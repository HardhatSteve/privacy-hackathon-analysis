import{j as e}from"./index-HKquI-t2.js";import{r as a}from"./wallet-adapters-BrkyT213.js";import{d as w,e as f}from"./cryptoNote-CBMOi0Hg.js";import"./wallet-ui-CFNU3nNx.js";import"./solana-core-C4IjULEX.js";function C(){const[i,c]=a.useState(""),[p,m]=a.useState(""),[d,l]=a.useState(""),[x,r]=a.useState(""),[h,n]=a.useState(""),b=async t=>{var o;try{if((o=navigator==null?void 0:navigator.clipboard)!=null&&o.writeText)await navigator.clipboard.writeText(t);else{const s=document.createElement("textarea");s.value=t,document.body.appendChild(s),s.select(),document.execCommand("copy"),document.body.removeChild(s)}n("Copied to clipboard"),setTimeout(()=>n(""),1500)}catch{}},u=async()=>{r(""),l("");try{if(!i.trim())throw new Error("Paste an encrypted note payload.");const t=await w(i.trim(),p);l(t)}catch(t){r((t==null?void 0:t.message)||String(t))}},y=async()=>{r(""),l("");try{const t=`Hello Judges üëã

This is a demo v1 note. If you can read this, decryption works!`,o="demo",s=await f(t,o);c(s),m(o),await b(s),n('Demo payload inserted & copied (passphrase: "demo")'),setTimeout(()=>n(""),2500)}catch{r("Could not generate demo payload. Try a modern browser.")}};return e.jsx("div",{className:"min-h-screen bg-gradient-to-b from-slate-900 to-slate-950 text-white",children:e.jsxs("div",{className:"max-w-3xl mx-auto px-4 py-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"h-8 w-8 rounded-lg bg-gradient-to-br from-emerald-400 to-blue-500 grid place-content-center text-sm",children:"üîì"}),e.jsx("h1",{className:"text-2xl font-bold",children:"Offline Decrypt Tool"})]}),e.jsx("a",{href:"/",className:"text-white/70 hover:text-white text-sm",children:"‚Üê Back"})]}),e.jsx("p",{className:"text-white/60 text-sm mb-6",children:"Works offline. Paste the encrypted payload (JSON) and enter the passphrase. Or use the demo button."}),e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("button",{onClick:y,className:"px-4 py-2 rounded-xl bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-500 hover:to-pink-500 font-semibold",children:"Insert demo & Copy"}),d&&e.jsx("button",{onClick:()=>b(d),className:"px-4 py-2 rounded-xl bg-white/10 hover:bg-white/20 border border-white/10",children:"Copy decrypted text"}),h&&e.jsx("span",{className:"text-xs text-emerald-300 ml-1",children:h})]}),e.jsxs("div",{className:"grid gap-4",children:[e.jsxs("label",{className:"block",children:[e.jsx("div",{className:"text-sm mb-1 text-white/80",children:"Encrypted payload (JSON)"}),e.jsx("textarea",{value:i,onChange:t=>c(t.target.value),className:"w-full h-40 rounded-xl bg-white/5 border border-white/10 p-3 outline-none focus:border-white/20",placeholder:'{"v":1,"i":150000,"s":"...","n":"...","c":"..."}'})]}),e.jsxs("label",{className:"block",children:[e.jsx("div",{className:"text-sm mb-1 text-white/80",children:"Passphrase"}),e.jsx("input",{type:"password",value:p,onChange:t=>m(t.target.value),className:"w-full rounded-xl bg-white/5 border border-white/10 p-3 outline-none focus:border-white/20",placeholder:'Try "demo" if you used the demo button'})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("button",{onClick:u,className:"px-5 py-3 rounded-xl bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-500 hover:to-pink-500 font-semibold",children:"Decrypt"}),e.jsx("button",{type:"button",onClick:()=>{c(""),m(""),l(""),r("")},className:"px-5 py-3 rounded-xl bg-white/10 hover:bg-white/20 border border-white/10",children:"Reset"})]}),x&&e.jsxs("div",{className:"rounded-xl border border-red-500/30 bg-red-500/10 p-3 text-sm text-red-200",children:["‚ùå ",x]}),d&&e.jsxs("div",{children:[e.jsx("div",{className:"text-sm mb-1 text-emerald-400",children:"‚úì Decrypted message"}),e.jsx("div",{className:"rounded-xl border border-emerald-500/20 bg-emerald-500/10 p-3 break-words",children:e.jsx("pre",{className:"whitespace-pre-wrap text-white/90",children:d})})]}),e.jsx("p",{className:"text-xs text-white/40 mt-2",children:"Supports passphrase-protected payloads (v:1). Works entirely offline."})]})]})})}export{C as default};
