import{j as e}from"./index-HKquI-t2.js";import{r as d}from"./wallet-adapters-BrkyT213.js";import"./wallet-ui-CFNU3nNx.js";import"./solana-core-C4IjULEX.js";function h(){return typeof window<"u"&&window.PrivacyCash}async function u({amountSol:s,noteHint:o}){return h()?{mode:"live",...await window.PrivacyCash.deposit({amountSol:s,noteHint:o})}:(await new Promise(i=>setTimeout(i,800)),{mode:"demo",txid:"PC_DEP_"+Math.random().toString(16).slice(2,10).toUpperCase(),note:"privacy-note-"+Math.random().toString(36).slice(2,8)})}async function w({note:s}){return h()?{mode:"live",...await window.PrivacyCash.withdraw({note:s})}:(await new Promise(o=>setTimeout(o,800)),{mode:"demo",txid:"PC_WD_"+Math.random().toString(16).slice(2,10).toUpperCase()})}function v(){const[s,o]=d.useState("0.01"),[i,c]=d.useState(""),[m,r]=d.useState([]),[n,l]=d.useState(!1),x=async()=>{l(!0);try{const t=await u({amountSol:parseFloat(s),noteHint:i});r(a=>[`[${new Date().toLocaleTimeString()}] âœ… Deposit (${t.mode}): ${t.txid}`,...a]),t.note&&c(t.note)}catch(t){r(a=>[`[${new Date().toLocaleTimeString()}] âŒ ${t.message}`,...a])}finally{l(!1)}},p=async()=>{l(!0);try{const t=await w({note:i});r(a=>[`[${new Date().toLocaleTimeString()}] âœ… Withdraw (${t.mode}): ${t.txid}`,...a])}catch(t){r(a=>[`[${new Date().toLocaleTimeString()}] âŒ ${t.message}`,...a])}finally{l(!1)}};return e.jsx("div",{className:"min-h-screen bg-gradient-to-b from-slate-950 to-slate-900 text-white",children:e.jsxs("div",{className:"max-w-2xl mx-auto px-4 py-8",children:[e.jsx("a",{href:"/",className:"text-white/60 hover:text-white",children:"â† Back"}),e.jsx("h1",{className:"text-3xl font-bold mt-6",children:"ðŸ” Privacy Cash"}),e.jsx("p",{className:"text-white/70 mt-2",children:"ZK privacy pools for anonymous SOL transfers"}),e.jsxs("div",{className:"mt-6 bg-white/5 border border-white/10 rounded-xl p-6 space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-white/70",children:"Amount (SOL)"}),e.jsx("input",{value:s,onChange:t=>o(t.target.value),type:"number",step:"0.001",className:"w-full mt-1 px-3 py-2 rounded-lg bg-white/5 border border-white/10"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-white/70",children:"Withdrawal Note"}),e.jsx("input",{value:i,onChange:t=>c(t.target.value),placeholder:"Generated after deposit...",className:"w-full mt-1 px-3 py-2 rounded-lg bg-white/5 border border-white/10 font-mono text-sm"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsx("button",{onClick:x,disabled:n,className:"py-3 rounded-lg bg-emerald-600 hover:bg-emerald-500 font-semibold disabled:opacity-50",children:n?"...":"â¬‡ï¸ Deposit"}),e.jsx("button",{onClick:p,disabled:n||!i,className:"py-3 rounded-lg bg-purple-600 hover:bg-purple-500 font-semibold disabled:opacity-50",children:n?"...":"â¬†ï¸ Withdraw"})]})]}),e.jsxs("div",{className:"mt-6 bg-white/5 border border-white/10 rounded-xl p-4",children:[e.jsx("h3",{className:"font-semibold mb-2",children:"How It Works"}),e.jsxs("ul",{className:"text-sm text-white/70 space-y-1",children:[e.jsx("li",{children:"â€¢ Deposit SOL â†’ receive secret withdrawal note"}),e.jsx("li",{children:"â€¢ Withdraw later using note (unlinkable to deposit)"}),e.jsx("li",{children:"â€¢ ZK proofs verify without revealing sender"}),e.jsx("li",{children:"â€¢ Demo mode active (SDK integration ready)"})]})]}),m.length>0&&e.jsx("div",{className:"mt-6 bg-black/30 rounded-xl p-4 font-mono text-xs max-h-40 overflow-y-auto",children:m.map((t,a)=>e.jsx("div",{children:t},a))})]})})}export{v as default};
